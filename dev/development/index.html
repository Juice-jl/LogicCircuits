<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Development · LogicCircuits.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-136089579-2', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link rel="canonical" href="https://juice-jl.github.io/LogicCircuits.jl/stable/development/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="LogicCircuits.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">LogicCircuits.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../generated/usage/">Quick Tutorial</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual/properties/">Structural Properties</a></li><li><a class="tocitem" href="../manual/transformations/">Tranformations</a></li><li><a class="tocitem" href="../manual/queries/">Queries</a></li><li><a class="tocitem" href="../manual/compilation/">Compilation</a></li><li><a class="tocitem" href="../manual/sdd/">Sentential Decision Diagrams</a></li><li><a class="tocitem" href="../manual/internals/">Internals</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../api/public/">Public APIs</a></li><li><a class="tocitem" href="../api/types/">Type Trees</a></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../api/internals/loadsave/">LoadSave</a></li><li><a class="tocitem" href="../api/internals/logiccircuits/">LogicCircuits</a></li><li><a class="tocitem" href="../api/internals/utils/">Utils</a></li></ul></li></ul></li><li class="is-active"><a class="tocitem" href>Development</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Building-Docs"><span>Building Docs</span></a></li><li><a class="tocitem" href="#Updating-main-README.md"><span>Updating main README.md</span></a></li><li><a class="tocitem" href="#Testing"><span>Testing</span></a></li><li><a class="tocitem" href="#Releasing-New-Versions"><span>Releasing New Versions</span></a></li><li><a class="tocitem" href="#Updating-Artifacts"><span>Updating Artifacts</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Development</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Development</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Juice-jl/LogicCircuits.jl/blob/master/docs/src/development.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="LogicCircuits.jl-for-Developers"><a class="docs-heading-anchor" href="#LogicCircuits.jl-for-Developers">LogicCircuits.jl for Developers</a><a id="LogicCircuits.jl-for-Developers-1"></a><a class="docs-heading-anchor-permalink" href="#LogicCircuits.jl-for-Developers" title="Permalink"></a></h1><p>Follow these instructions to install and use LogicCircuits.jl as a developer of the package.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>Install the Julia package in development mode by running</p><pre><code class="language-none">julia -e &#39;using Pkg; Pkg.develop(PackageSpec(url=&quot;https://github.com/Juice-jl/LogicCircuits.jl.git&quot;))&#39;</code></pre><p>By default this will install the package at <code>~/.julia/dev</code> and allow you to change the code there. See the <a href="https://julialang.github.io/Pkg.jl/v1/managing-packages/#Developing-packages-1">Pkg manual</a> for more details. One can adjust the development directory using environment variables or simply create a symbolic link to/from your favorite development directory.</p><h2 id="Building-Docs"><a class="docs-heading-anchor" href="#Building-Docs">Building Docs</a><a id="Building-Docs-1"></a><a class="docs-heading-anchor-permalink" href="#Building-Docs" title="Permalink"></a></h2><p>To locally build the docs, first run the following command from root of the repository to instantiate the docs environment and run the build script:</p><pre><code class="language-none">julia --project=docs/ -e &#39;using Pkg; Pkg.develop(PackageSpec(path=pwd())); Pkg.instantiate(); include(&quot;./docs/make.jl&quot;);&#39;</code></pre><p>The build results will be stored under <code>docs/build</code>.</p><p>Alternatively, if you have <code>LogicCircuits</code> in development mode and have already instantiated the docs environment, you can simply run the following:</p><pre><code class="language-bash">julia --project=docs docs/make.jl</code></pre><h2 id="Updating-main-README.md"><a class="docs-heading-anchor" href="#Updating-main-README.md">Updating main README.md</a><a id="Updating-main-README.md-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-main-README.md" title="Permalink"></a></h2><p>After running the build script for docs the README.md file gets updated automatically, check the diff and commit the desired changes to README.md.</p><h2 id="Testing"><a class="docs-heading-anchor" href="#Testing">Testing</a><a id="Testing-1"></a><a class="docs-heading-anchor-permalink" href="#Testing" title="Permalink"></a></h2><h3 id="Prerequisite"><a class="docs-heading-anchor" href="#Prerequisite">Prerequisite</a><a id="Prerequisite-1"></a><a class="docs-heading-anchor-permalink" href="#Prerequisite" title="Permalink"></a></h3><p>Set the following environment variable, to automatically download data artifacts needed during tests without user input. Otherwise the tests would fail or timeout waiting for user input if the artifact is not already downloaded.</p><pre><code class="language-none">export DATADEPS_ALWAYS_ACCEPT=1</code></pre><p>Additionally, if you want the tests to run faster, you can use more cores by setting the following variable. The default value is 1.</p><pre><code class="language-none">export JIVE_PROCS=8</code></pre><h3 id="Running-the-tests:"><a class="docs-heading-anchor" href="#Running-the-tests:">Running the tests:</a><a id="Running-the-tests:-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-tests:" title="Permalink"></a></h3><p>Make sure to run the tests before commiting new code.</p><p>To run all the tests:</p><pre><code class="language-none">julia --project=test --color=yes test/runtests.jl</code></pre><p>You can also run any specific test:</p><pre><code class="language-none">julia --project=test --color=yes test/_manual_/aqua_test.jl</code></pre><h2 id="Releasing-New-Versions"><a class="docs-heading-anchor" href="#Releasing-New-Versions">Releasing New Versions</a><a id="Releasing-New-Versions-1"></a><a class="docs-heading-anchor-permalink" href="#Releasing-New-Versions" title="Permalink"></a></h2><p>Only do this for when the repo is in stable position, and we have decent amount of changes from previous version.</p><ol><li>Bump up the version in <code>Project.toml</code></li><li>Use <a href="https://github.com/JuliaRegistries/Registrator.jl">Julia Registrator</a> to submit a pull request to julia&#39;s public registry. <ul><li>The web interface seems to be the easiest. Follow the instructions in the generated pull request and make sure there is no errors. For example <a href="https://github.com/JuliaRegistries/General/pull/15349">this pull request</a>.</li></ul></li><li>Github Release. TagBot is enabled for this repo, so after the registrator merges the pull request, TagBot automatically does a github release in sync with the registrar&#39;s new version. <ul><li>Note: TagBot would automatically include all the closed PRs and issues since the previous version in the release note, if you want to exclude some of them, refer to <a href="https://github.com/JuliaRegistries/TagBot">Julia TagBot docs</a>.</li></ul></li><li>As much as possible, make sure to also release a new version for <code>ProbabilisticCircuits.jl</code>.</li></ol><h2 id="Updating-Artifacts"><a class="docs-heading-anchor" href="#Updating-Artifacts">Updating Artifacts</a><a id="Updating-Artifacts-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-Artifacts" title="Permalink"></a></h2><p>The example is for Circuit Model Zoo, but should work for others:</p><ol><li>Push new updates to <a href="https://github.com/UCLA-StarAI/Circuit-Model-Zoo">UCLA-StarAI/Circuit-Model-Zoo</a></li><li>Do a <a href="https://github.com/UCLA-StarAI/Circuit-Model-Zoo/releases">new zoo release</a>.</li><li>Update the <code>LogicCircuits.jl</code>&#39;s <code>Artifact.toml</code> file with new git tag and hash. Example commit can be found <a href="https://github.com/Juice-jl/LogicCircuits.jl/commit/1cd3fda02fa7bd82d1fa02898ee404edce0d7b14">here</a>.</li><li>Do the same for <code>ProbabilisticCircuits.jl</code>&#39;s <code>Artifact.toml</code> file. Example commit <a href="https://github.com/Juice-jl/ProbabilisticCircuits.jl/commit/da7d3678b5f2254e60229632f74cc619505e2b2d">here</a>.</li><li>Note that for each Artifact.toml, 2 things need to change: <code>git-tree-sha1</code> and <code>sha256</code>.</li><li>Update the <code>const zoo_version = &quot;/Circuit-Model-Zoo-0.1.4&quot;</code> inside LogicCircuits.jl to the new zoo version. No changes needed in ProbabilisticCircuits since it uses the same constant.</li></ol><h3 id="Question:-How-to-get-the-hashes:"><a class="docs-heading-anchor" href="#Question:-How-to-get-the-hashes:">Question: How to get the hashes:</a><a id="Question:-How-to-get-the-hashes:-1"></a><a class="docs-heading-anchor-permalink" href="#Question:-How-to-get-the-hashes:" title="Permalink"></a></h3><p>Download the new Zoo release from Github. Now you can use the following code snippet to get the hashes (check the <a href="https://julialang.github.io/Pkg.jl/dev/artifacts/">julia Artifact page</a> for latest instructions):</p><pre><code class="language-none">using Tar, Inflate, SHA
filename = &quot;socrates.tar.gz&quot;
println(&quot;sha256: &quot;, bytes2hex(open(sha256, filename)))
println(&quot;git-tree-sha1: &quot;, Tar.tree_hash(IOBuffer(inflate_gzip(filename))))</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api/internals/utils/">« Utils</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 22 March 2021 21:41">Monday 22 March 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
